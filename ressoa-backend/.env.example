# ==============================================
# Ressoa AI Backend - Environment Variables
# ==============================================
# Copy this file to .env and fill in the values
# DO NOT commit .env to git (already in .gitignore)

# Database (PostgreSQL)
DATABASE_URL="postgresql://ressoa:dev_password@localhost:5432/ressoa_dev?schema=public"

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# Object Storage (MinIO for dev, S3 for prod)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=ressoa-uploads
S3_REGION=us-east-1

# Authentication (JWT)
# Generate secrets with: openssl rand -base64 32
JWT_SECRET=your-secret-here-MUST-be-at-least-32-characters-long
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-refresh-secret-MUST-be-at-least-32-characters-long
JWT_REFRESH_EXPIRES_IN=7d

# External APIs (Speech-to-Text & LLM)
# OpenAI API Key (for Whisper STT - Story 4.2)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-...

# Anthropic API Key (for Claude LLM - Epic 5)
ANTHROPIC_API_KEY=sk-ant-api03-...

# Google Cloud Service Account Credentials (for Google Speech STT fallback - Story 4.2)
# Format: JSON.stringify(serviceAccountKey) - entire service account JSON as string
# Get from: https://console.cloud.google.com/iam-admin/serviceaccounts
# Example structure:
# {
#   "type": "service_account",
#   "project_id": "your-project-id",
#   "private_key_id": "...",
#   "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
#   "client_email": "your-service-account@your-project.iam.gserviceaccount.com",
#   "client_id": "...",
#   "auth_uri": "https://accounts.google.com/o/oauth2/auth",
#   "token_uri": "https://oauth2.googleapis.com/token",
#   "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
#   "client_x509_cert_url": "..."
# }
# IMPORTANT: Stringify the entire JSON object (no line breaks in env var)
GOOGLE_CLOUD_CREDENTIALS='{"type":"service_account","project_id":"...","private_key":"...","client_email":"..."}'

# Google Gemini API Key (for Gemini Flash LLM - Story 14.3)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIza...
# Gemini Model: gemini-2.0-flash (default) | gemini-2.5-flash | etc.
GEMINI_MODEL=gemini-2.0-flash

# Groq API Key (for Groq Whisper STT - Story 14.2)
# Get from: https://console.groq.com/keys
GROQ_API_KEY=gsk_...
# Groq Whisper Model: whisper-large-v3-turbo ($0.04/hr) | distil-whisper-large-v3-en ($0.02/hr) | whisper-large-v3 ($0.111/hr)
GROQ_WHISPER_MODEL=whisper-large-v3-turbo

# STT Provider Configuration
STT_PRIMARY_PROVIDER=WHISPER  # Options: WHISPER | GOOGLE | AZURE | GROQ_WHISPER
STT_FALLBACK_PROVIDER=GOOGLE  # Options: WHISPER | GOOGLE | AZURE | GROQ_WHISPER

# AWS S3 Configuration (for audio file downloads)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_BUCKET_NAME=ressoa-audio-files
AWS_REGION=us-east-1

# Email Service (Story 1.5 - Password Recovery, Story 4.4 - Notifications)
# Provider: sendgrid | ses
EMAIL_PROVIDER=sendgrid
# SendGrid API Key - Get from: https://app.sendgrid.com/settings/api_keys
EMAIL_API_KEY=SG.your_sendgrid_api_key_here
# From address for all outgoing emails
EMAIL_FROM=noreply@ressoa.ai
# Frontend URL for email deep links (password reset, notification links)
FRONTEND_URL=http://localhost:5173

# CORS (Frontend URL)
CORS_ORIGIN=http://localhost:5173

# Application
NODE_ENV=development
PORT=3000

# Optional (for production monitoring)
# SENTRY_DSN=https://...@sentry.io/...
